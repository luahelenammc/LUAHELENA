<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linha do Tempo ¬∑ CRS (D-2 ‚Üí D12)</title>
<style>
  :root{
    --leather:#db6ea0; --leather-dark:#b85b86; --stitch:#ffdbe9;
    --paper:#fbfaf7; --ink:#3a3740; --accent:#ff4fa0; --shadow:rgba(0,0,0,.25);
    --muted:#9f9588;

    /* Segmentos: Cibele (verde-lima), Rosana (amarelo), Hotel (vinho suave) */
    --cibele1:#eefdd1; --cibele2:#c5f572;
    --rosana1:#fff7c7; --rosana2:#ffe082;
    --hotel1:#fde0e8;  --hotel2:#e6a3b5;
  }

  *{box-sizing:border-box}
  body{
    margin:0; padding:24px;
    background: radial-gradient(ellipse at top, #f5eff7 0%, #efeaf1 55%, #e8e3ee 100%);
    font-family:"Helvetica Neue", Arial, sans-serif; color:var(--ink);
  }

  /* Cabe√ßalho couro */
  .header{
    max-width:1080px; margin:0 auto 20px;
    background:linear-gradient(180deg,var(--leather),var(--leather-dark));
    border-radius:16px; position:relative;
    box-shadow:0 10px 22px var(--shadow), inset 0 2px 0 rgba(255,255,255,.35), inset 0 -2px 0 rgba(0,0,0,.15);
    padding:18px 20px 22px; color:#fff;
  }
  .header:after{
    content:""; position:absolute; inset:12px;
    border:2px dashed var(--stitch); border-radius:12px; opacity:.95; pointer-events:none;
  }
  .title{ font-weight:800; font-size:clamp(22px,4vw,28px); text-shadow:0 2px 0 rgba(0,0,0,.25) }
  .subtitle{ font-size:clamp(12px,2.6vw,14px); opacity:.9 }

  /* Painel + progresso */
  .panel{
    max-width:1080px; margin:0 auto;
    background:linear-gradient(180deg,#fff 0%, var(--paper) 68%);
    border:1px solid #e8e3dc; border-radius:14px;
    box-shadow:0 14px 28px var(--shadow), inset 0 1px 0 #fff;
    padding:18px 18px 6px;
  }
  .progress-wrap{ display:flex; align-items:center; gap:12px; margin:6px 6px 14px; }
  .progress{ flex:1; height:14px; border-radius:999px; background:#efe7de; position:relative; box-shadow: inset 0 1px 0 #fff; }
  .bar{
    position:absolute; inset:0 auto 0 0; width:0%;
    background:linear-gradient(180deg,#ffd1e8,#ff7abf);
    border:1px solid #eaa0c7; border-radius:999px;
    box-shadow:0 2px 0 rgba(0,0,0,.05), inset 0 1px 0 rgba(255,255,255,.8);
    transition:width .6s ease;
  }
  .badge, .today-chip{
    padding:6px 10px; border-radius:10px; font-weight:800; white-space:nowrap;
    box-shadow:0 2px 0 rgba(0,0,0,.06), inset 0 1px 0 #fff;
  }
  .badge{
    background:linear-gradient(180deg,#ffe7f4,#ffbadb); color:#6b2a48; border:1px solid #e3a6c4;
  }
  .today-chip{
    margin-left:auto; background:linear-gradient(180deg,#fff2f9,#ffd6ea);
    border:1px solid #efb2cf; color:#7b2b4f;
  }

  /* Legenda */
  .legend{ display:flex; flex-wrap:wrap; gap:8px; margin:0 6px 14px; }
  .legend .item{ padding:6px 10px; border-radius:10px; font-weight:700; border:1px solid #e0d7cc; box-shadow:0 1px 0 rgba(0,0,0,.05), inset 0 1px 0 #fff; }
  .lg-cibele{ background:linear-gradient(180deg,var(--cibele1),var(--cibele2)); }
  .lg-rosana{ background:linear-gradient(180deg,var(--rosana1),var(--rosana2)); }
  .lg-hotel { background:linear-gradient(180deg,var(--hotel1), var(--hotel2)); }

  /* Timeline */
  .timeline{ position:relative; padding-left:36px; margin:0 6px 10px; }
  .timeline:before{
    content:""; position:absolute; left:18px; top:0; bottom:0; width:4px;
    background:linear-gradient(180deg,#f0d7e4,#e8c1d7); border-radius:4px; box-shadow:inset 0 1px 0 #fff;
  }

  .card{
    position:relative; margin:14px 0 18px;
    border:1px solid #eadfce; border-radius:12px; padding:14px 14px 12px;
    box-shadow:0 8px 18px rgba(0,0,0,.12), inset 0 1px 0 #fff;
    background:linear-gradient(180deg,#fff,var(--paper));
  }
  .card.segment-cibele{ background:linear-gradient(180deg,var(--cibele1),var(--cibele2)); }
  .card.segment-rosana{ background:linear-gradient(180deg,var(--rosana1),var(--rosana2)); }
  .card.segment-hotel { background:linear-gradient(180deg,var(--hotel1), var(--hotel2)); }

  .card .dot{
    position:absolute; left:-28px; top:16px; width:20px; height:20px; border-radius:50%;
    background:linear-gradient(180deg,#ff9ad0,#ff5fb1);
    border:1px solid #e38fbf; box-shadow:0 2px 0 rgba(0,0,0,.08), inset 0 1px 0 #fff;
  }
  .card.pre .dot{ background:linear-gradient(180deg,#ffe08f,#ffc642); border-color:#e5b85b }
  .card.op  .dot{ background:linear-gradient(180deg,#ff7abf,#ff2f9c) }
  .card.post .dot{background:linear-gradient(180deg,#b2f0c7,#65d78e); border-color:#5ac686 }

  .head{ display:flex; align-items:center; gap:10px; margin-bottom:6px; flex-wrap:wrap; }
  .tag{ padding:4px 10px; border-radius:10px; font-weight:800; background:linear-gradient(180deg,#ffe7f4,#ffbadb); border:1px solid #e3a6c4; color:#6b2a48; box-shadow:0 2px 0 rgba(0,0,0,.05), inset 0 1px 0 rgba(255,255,255,.85); }
  .date{ padding:4px 10px; border-radius:10px; font-weight:700; color:#5b5349; background:linear-gradient(180deg,#fff,#f6f0ea); border:1px solid #ddd2c6; box-shadow:0 1px 0 #fff, inset 0 -1px 0 rgba(0,0,0,.05); }
  .wday{ padding:4px 8px; border-radius:8px; font-weight:800; color:#5a4a52; background:linear-gradient(180deg,#ffffff,#f4edf0); border:1px solid #e2d6cc; box-shadow:0 1px 0 #fff, inset 0 -1px 0 rgba(0,0,0,.04); }
  .title{ font-weight:800; letter-spacing:.2px; display:flex; align-items:center; gap:6px; }
  .emo{ font-size:18px; filter: drop-shadow(0 1px 0 rgba(255,255,255,.4)); }

  .chips{ display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
  .chip{ padding:6px 10px; border-radius:999px; font-weight:700; font-size:14px; background:linear-gradient(180deg,#ffffff,#f6f0ea); border:1px solid #ddd2c6; color:#5b3f4d; box-shadow:0 2px 0 rgba(0,0,0,.06), inset 0 1px 0 rgba(255,255,255,.85); }

  .today{ box-shadow:0 10px 22px rgba(255,105,180,.18), inset 0 0 0 2px #ff9ad0; position:relative; }
  .today:after{
    content:""; position:absolute; inset:0;
    background:
      radial-gradient(circle at 18% 26%, rgba(255,255,255,.55), transparent 35%),
      radial-gradient(circle at 82% 20%, rgba(255,255,255,.45), transparent 35%),
      radial-gradient(circle at 60% 86%, rgba(255,255,255,.35), transparent 40%);
    mix-blend-mode:screen; animation:twinkle 2s infinite ease-in-out; border-radius:12px; pointer-events:none;
  }
  @keyframes twinkle{ 0%,100%{opacity:.55} 50%{opacity:1} }

  @media (max-width:720px){
    .progress-wrap{ flex-direction:column; align-items:stretch; gap:10px; }
    .progress{ height:18px; }
    .today-chip{ margin-left:0; width:100%; text-align:center; }
    .badge{ width:100%; text-align:center; }
  }
</style>
</head>
<body>

  <div class="header">
    <div class="title">Linha do Tempo ¬∑ CRS</div>
    <div class="subtitle">De D-2 at√© D12 ¬∑ pr√©, cirurgia e p√≥s-op</div>
  </div>

  <div class="panel">
    <div class="progress-wrap">
      <span class="badge" id="where">Preparando‚Ä¶</span>
      <div class="progress"><div class="bar" id="bar"></div></div>
      <span class="today-chip" id="todayLabel">Hoje: ‚Äî</span>
    </div>

    <div class="legend">
      <span class="item lg-cibele">üè• 16‚Äì20 set ¬∑ Cibele (hospital)</span>
      <span class="item lg-rosana">üè• 21‚Äì24 set ¬∑ Rosana (hospital)</span>
      <span class="item lg-hotel">üõéÔ∏è 25‚Äì30 set ¬∑ Sem acompanhante (hotel)</span>
    </div>

    <div class="timeline" id="timeline"></div>
  </div>

<script>
  // Helpers
  const pad2 = n => String(n).padStart(2,'0');
  const labelD = dia => (dia===18 ? 'D0' : (dia>18 ? 'D'+(dia-18) : 'D'+(dia-18))); // D-2, D-1, D0, D1...
  const tipoFase = dia => dia < 18 ? 'pre' : (dia === 18 ? 'op' : 'post');
  const segmento = dia => (dia>=16 && dia<=20) ? 'segment-cibele' : (dia>=21 && dia<=24) ? 'segment-rosana' : 'segment-hotel';
  const emoji = dia => (dia<=24 ? 'üè•' : 'üõéÔ∏è');
  const wdayPt = d => ['DOM','SEG','TER','QUA','QUI','SEX','S√ÅB'][d];

  // Itens
  const itensPorDia = {
    16: ['viagem'],
    17: ['advogada','interna√ß√£o pr√©-cir√∫rgica'],
    18: ['CRS'],
    22: ['retirada dos drenos'],
    23: ['retirada da sonda'],
    24: ['retirada de tamp√µes','exame do dedo','alta hospitalar'],
    30: ['tirar os pontos','volta para casa']
  };

  // Render timeline
  const elTimeline = document.getElementById('timeline');
  for (let d = 16; d <= 30; d++){
    const dt = new Date(2025, 8, d); // Setembro (m√™s 8)
    const chips = (itensPorDia[d] || []).map(t => `<span class="chip">${t}</span>`).join('');
    const card = document.createElement('section');
    card.className = `card ${tipoFase(d)} ${segmento(d)}`;
    card.id = `dia-${d}`;
    card.innerHTML = `
      <div class="dot"></div>
      <div class="head">
        <span class="tag">${labelD(d)}</span>
        <span class="wday">${wdayPt(dt.getDay())}</span>
        <span class="date">${pad2(d)}/09/2025</span>
        <span class="title">${d===18?'Dia de Cirurgia': d<18?'Pr√©-operat√≥rio':'P√≥s-operat√≥rio'} <span class="emo">${emoji(d)}</span></span>
      </div>
      ${chips ? `<div class="chips">${chips}</div>` : ``}
    `;
    elTimeline.appendChild(card);
  }

  // Hoje + progresso
  function setHojeEProgresso(){
    const now = new Date();
    const y = now.getFullYear(), m = now.getMonth(), d = now.getDate();
    const hojeLabel = document.getElementById('todayLabel');
    const where = document.getElementById('where');
    const bar = document.getElementById('bar');

    let idxHoje = -1; // 0 => 16/09
    if (y===2025 && m===8 && d>=16 && d<=30){
      const card = document.getElementById('dia-'+d);
      if (card) card.classList.add('today');
      hojeLabel.textContent = `Hoje: ${labelD(d)}`;
      idxHoje = d - 16;
    } else {
      hojeLabel.textContent = "Hoje: ‚Äî";
    }

    const total = 14; // 0..14
    const pct = idxHoje < 0 ? 0 : Math.min(100, Math.round((idxHoje/total)*100));
    bar.style.width = pct + "%";

    where.textContent =
      idxHoje < 0 ? "Fora da janela D-2‚Ä¶D12" :
      (idxHoje <= 1 ? "Pr√©-op" : (idxHoje === 2 ? "Dia de cirurgia" : "P√≥s-op"));
  }
  setHojeEProgresso();
</script>
</body>
</html>
